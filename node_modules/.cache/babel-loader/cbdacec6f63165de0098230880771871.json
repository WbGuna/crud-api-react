{"ast":null,"code":"var _jsxFileName = \"/home/wabarbosa/\\xC1rea de Trabalho/Quero_ser_Dev/Atividades Jonas/crud-api-react/crud-api-react/src/components/Todo/Todo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport TodoForm from './Form/TodoForm';\nimport TodoList from './List/TodoList';\nimport { baseUrl } from '../../environments';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Todo(props) {\n  _s();\n\n  const URL = `${baseUrl}/todo`;\n  const [tasks, setTasks] = useState([]);\n  useEffect(() => {\n    getTasks();\n  }, []);\n\n  const getTasks = () => {\n    axios.get(`${URL}`).then(response => {\n      setTasks(response.data);\n    });\n  }; //usando apenas um função para editar\n  // const changeTask = (task, done) => {\n  //     axios.put(`${URL}/${task.id}`, { ...task, done: done})\n  //     .then((response) => {\n  //         getTasks()\n  //     })\n  // }\n\n\n  const editDescription = task => {\n    if (task.description === '') {\n      return;\n    }\n\n    axios.put(`${URL}/${task.id}`, task).then(response => {\n      getTasks();\n    });\n  };\n\n  const doneTask = task => {\n    axios.put(`${URL}/${task.id}`, { ...task,\n      done: true\n    }).then(response => {\n      getTasks();\n    });\n  };\n\n  const peddingTask = task => {\n    axios.put(`${URL}/${task.id}`, { ...task,\n      done: false\n    }).then(response => {\n      getTasks();\n    });\n  };\n\n  const registerTask = descriptionForm => {\n    let task = {\n      description: descriptionForm,\n      done: false\n    };\n    axios.post(`${URL}`, task).then(response => {\n      getTasks();\n    });\n  };\n\n  const deleteTask = id => {\n    axios.delete(`${URL}/${id}`).then(response => {\n      getTasks();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TodoForm, {\n      register: registerTask\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TodoList, {\n      tasks: tasks,\n      doneTask: doneTask,\n      peddingTask: peddingTask,\n      delete: deleteTask,\n      editDescription: editDescription\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Todo, \"bBd6yqkqV9dlkj9ENgRyXKaiXpk=\");\n\n_c = Todo;\nexport default Todo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"names":["React","useEffect","useState","axios","TodoForm","TodoList","baseUrl","Todo","props","URL","tasks","setTasks","getTasks","get","then","response","data","editDescription","task","description","put","id","doneTask","done","peddingTask","registerTask","descriptionForm","post","deleteTask","delete"],"sources":["/home/wabarbosa/Área de Trabalho/Quero_ser_Dev/Atividades Jonas/crud-api-react/crud-api-react/src/components/Todo/Todo.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport TodoForm from './Form/TodoForm'\nimport TodoList from './List/TodoList'\nimport { baseUrl } from '../../environments'\n\nfunction Todo(props) {\n\n    const URL = `${baseUrl}/todo`\n    const [tasks, setTasks] = useState([])\n\n    useEffect(() => {\n        getTasks()\n    },[])\n\n    const getTasks = () => {\n        axios.get(`${URL}`)\n        .then((response) => {\n            setTasks(response.data)\n        })\n    }\n\n    //usando apenas um função para editar\n    // const changeTask = (task, done) => {\n    //     axios.put(`${URL}/${task.id}`, { ...task, done: done})\n    //     .then((response) => {\n    //         getTasks()\n    //     })\n    // }\n\n    const editDescription = (task) => {\n        if (task.description === '') {\n            return\n        }\n\n        axios.put(`${URL}/${task.id}`, task)\n        .then((response) => {\n            getTasks()\n        })\n    }\n\n    const doneTask = (task) => {\n        axios.put(`${URL}/${task.id}`, { ...task, done: true})\n        .then((response) => {\n            getTasks()\n        })\n    }\n\n    const peddingTask = (task) => {\n        axios.put(`${URL}/${task.id}`, { ...task, done: false})\n        .then((response) => {\n            getTasks()\n        })\n    }\n\n    const registerTask = (descriptionForm) => {\n        let task = {\n            description: descriptionForm,\n            done: false\n        }\n\n        axios.post(`${URL}`, task)\n        .then((response) => {\n            getTasks()\n        })\n    }\n\n    const deleteTask = (id) => {\n        axios.delete(`${URL}/${id}`)\n        .then((response) => {\n            getTasks()\n        })\n    }\n\n    return(\n        <>\n            <TodoForm register={registerTask}/>\n            <TodoList tasks={tasks} \n                doneTask={doneTask}\n                peddingTask={peddingTask}\n                delete={deleteTask}\n                editDescription={editDescription}/>\n                {/* //usando apenas um função para editar */}\n                {/* changeTask={changeTask}/> */}\n        </>\n    )\n}\n\nexport default Todo"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAASC,OAAT,QAAwB,oBAAxB;;;;AAEA,SAASC,IAAT,CAAcC,KAAd,EAAqB;EAAA;;EAEjB,MAAMC,GAAG,GAAI,GAAEH,OAAQ,OAAvB;EACA,MAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;EAEAD,SAAS,CAAC,MAAM;IACZW,QAAQ;EACX,CAFQ,EAEP,EAFO,CAAT;;EAIA,MAAMA,QAAQ,GAAG,MAAM;IACnBT,KAAK,CAACU,GAAN,CAAW,GAAEJ,GAAI,EAAjB,EACCK,IADD,CACOC,QAAD,IAAc;MAChBJ,QAAQ,CAACI,QAAQ,CAACC,IAAV,CAAR;IACH,CAHD;EAIH,CALD,CATiB,CAgBjB;EACA;EACA;EACA;EACA;EACA;EACA;;;EAEA,MAAMC,eAAe,GAAIC,IAAD,IAAU;IAC9B,IAAIA,IAAI,CAACC,WAAL,KAAqB,EAAzB,EAA6B;MACzB;IACH;;IAEDhB,KAAK,CAACiB,GAAN,CAAW,GAAEX,GAAI,IAAGS,IAAI,CAACG,EAAG,EAA5B,EAA+BH,IAA/B,EACCJ,IADD,CACOC,QAAD,IAAc;MAChBH,QAAQ;IACX,CAHD;EAIH,CATD;;EAWA,MAAMU,QAAQ,GAAIJ,IAAD,IAAU;IACvBf,KAAK,CAACiB,GAAN,CAAW,GAAEX,GAAI,IAAGS,IAAI,CAACG,EAAG,EAA5B,EAA+B,EAAE,GAAGH,IAAL;MAAWK,IAAI,EAAE;IAAjB,CAA/B,EACCT,IADD,CACOC,QAAD,IAAc;MAChBH,QAAQ;IACX,CAHD;EAIH,CALD;;EAOA,MAAMY,WAAW,GAAIN,IAAD,IAAU;IAC1Bf,KAAK,CAACiB,GAAN,CAAW,GAAEX,GAAI,IAAGS,IAAI,CAACG,EAAG,EAA5B,EAA+B,EAAE,GAAGH,IAAL;MAAWK,IAAI,EAAE;IAAjB,CAA/B,EACCT,IADD,CACOC,QAAD,IAAc;MAChBH,QAAQ;IACX,CAHD;EAIH,CALD;;EAOA,MAAMa,YAAY,GAAIC,eAAD,IAAqB;IACtC,IAAIR,IAAI,GAAG;MACPC,WAAW,EAAEO,eADN;MAEPH,IAAI,EAAE;IAFC,CAAX;IAKApB,KAAK,CAACwB,IAAN,CAAY,GAAElB,GAAI,EAAlB,EAAqBS,IAArB,EACCJ,IADD,CACOC,QAAD,IAAc;MAChBH,QAAQ;IACX,CAHD;EAIH,CAVD;;EAYA,MAAMgB,UAAU,GAAIP,EAAD,IAAQ;IACvBlB,KAAK,CAAC0B,MAAN,CAAc,GAAEpB,GAAI,IAAGY,EAAG,EAA1B,EACCP,IADD,CACOC,QAAD,IAAc;MAChBH,QAAQ;IACX,CAHD;EAIH,CALD;;EAOA,oBACI;IAAA,wBACI,QAAC,QAAD;MAAU,QAAQ,EAAEa;IAApB;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI,QAAC,QAAD;MAAU,KAAK,EAAEf,KAAjB;MACI,QAAQ,EAAEY,QADd;MAEI,WAAW,EAAEE,WAFjB;MAGI,MAAM,EAAEI,UAHZ;MAII,eAAe,EAAEX;IAJrB;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA,gBADJ;AAYH;;GAhFQV,I;;KAAAA,I;AAkFT,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}